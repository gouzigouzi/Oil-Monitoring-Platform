(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cc65272"],{"0c1d":function(e,t,l){"use strict";l("13ef")},"0df1":function(e,t,l){"use strict";l("bc71")},"10bd":function(e,t,l){"use strict";l("65ca")},"13ef":function(e,t,l){},"65ca":function(e,t,l){},"8d03":function(e,t,l){"use strict";l("fa3f")},bc71:function(e,t,l){},d846:function(e,t,l){"use strict";l("e492")},e3b4:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-form",{ref:"form",staticClass:"demo-form-inline form-container",attrs:{inline:!0,model:e.form}},[l("el-form-item",{attrs:{label:"申请查询"}},[l("el-input",{attrs:{placeholder:"申请信息",clearable:""},model:{value:e.form.info,callback:function(t){e.$set(e.form,"info",t)},expression:"form.info"}})],1),l("el-form-item",{attrs:{label:"所属公司"}},[l("el-select",{attrs:{placeholder:"公司名称"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}},e._l(e.companies,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("el-form-item",{attrs:{label:"申请类型"}},[l("el-select",{attrs:{placeholder:"申请类型"},model:{value:e.form.submitType,callback:function(t){e.$set(e.form,"submitType",t)},expression:"form.submitType"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("查询")])],1),l("el-form-item",[l("el-button",{attrs:{type:"success",icon:"el-icon-refresh"},on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1),l("el-form",{staticClass:"demo-form-inline form-container",attrs:{inline:!0}},[l("el-form-item",[l("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus"},on:{click:function(t){return e.handleBatchAgree()}}},[e._v("批量同意")]),l("el-button",{attrs:{type:"warning",icon:"el-icon-remove-outline"},on:{click:function(t){return e.handleBatchReject()}}},[e._v("批量拒绝")]),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.handleDeletes()}}},[e._v("批量删除")])],1)],1),l("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"待办申请",name:"todo"}},[l("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 待办申请"),e.submitCount>0?l("el-badge",{attrs:{value:e.submitCount}}):e._e()],1)]),l("el-tab-pane",{attrs:{label:"已办申请",name:"finish"}}),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",attrs:{"element-loading-text":"Loading",data:e.tableData,border:"",fit:"",stripe:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),l("el-table-column",{attrs:{align:"center",label:"用户名",width:"140",prop:"username"}}),l("el-table-column",{attrs:{align:"center",label:"所属公司",width:"200",prop:"company"}}),l("el-table-column",{attrs:{align:"center",label:"申请操作",prop:"operation"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-button",{attrs:{type:"text"},on:{click:function(t){return e.viewApply(i.id,i.submitType)}}},[e._v(" "+e._s(e.typeText(i.submitType))+" ")]),e._v(" "+e._s(i.operation)+" ")]}}])}),l("el-table-column",{attrs:{"class-name":"status-col",label:"申请状态",width:"140",align:"center",prop:"todoStatus"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[l("el-tag",{attrs:{type:e.statusType(i.todoStatus)}},[e._v(" "+e._s(e.statusText(i.todoStatus))+" ")])]}}])}),l("el-table-column",{attrs:{align:"center",prop:"createTime",label:"用户申请时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("i",{staticClass:"el-icon-time"}),l("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.createTime.toLocaleString().replace(/T/g," ").substr(0,16)))])]}}])}),l("el-table-column",{attrs:{label:"执行操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{size:"mini",type:"success",disabled:e.isShow},on:{click:function(l){return e.handleAgree(t.row.username,t.row.id,t.row.submitType,t.row.operation)}}},[e._v("同意"),l("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"5px"}})]),l("el-button",{attrs:{size:"mini",type:"warning",disabled:e.isShow},on:{click:function(l){return e.handleReject(t.row.username,t.row.id)}}},[e._v("拒绝"),l("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"5px"}})])]}}])})],1),l("reject-dialog",{ref:"rejectedDialog",attrs:{title:"拒绝申请",dialogFormVisible:e.dialogVisible,ruleForm:e.rejectedForm,rules:e.rules},on:{"update:dialogFormVisible":function(t){e.dialogVisible=t},"update:dialog-form-visible":function(t){e.dialogVisible=t},submits:e.submitReject,reset:e.handleReset}}),l("view-vehicle-dialog",{ref:"vehicleDialog",attrs:{title:e.dialogTitle,dialogFormVisible:e.dialogVehicleVisible,ruleForm:e.vehicleForm},on:{"update:dialogFormVisible":function(t){e.dialogVehicleVisible=t},"update:dialog-form-visible":function(t){e.dialogVehicleVisible=t}}}),l("view-sample-dialog",{ref:"oilDialog",attrs:{title:e.dialogTitle,dialogFormVisible:e.dialogAddOilVisible,ruleForm:e.oilForm},on:{"update:dialogFormVisible":function(t){e.dialogAddOilVisible=t},"update:dialog-form-visible":function(t){e.dialogAddOilVisible=t}}}),l("view-delete-vehicle-dialog",{ref:"vehicleDeleteDialog",attrs:{title:e.dialogTitle,dialogFormVisible:e.dialogDeleteVehicleVisible,ruleForm:e.vehicleDeleteForm},on:{"update:dialogFormVisible":function(t){e.dialogDeleteVehicleVisible=t},"update:dialog-form-visible":function(t){e.dialogDeleteVehicleVisible=t}}}),l("div",{staticClass:"pagination-container"},[l("el-pagination",{staticStyle:{padding:"20px 0"},attrs:{"current-page":e.form.page,"page-sizes":[5,10,15,20],"page-size":e.form.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},o=[],a=(l("d81d"),l("b0c0"),l("d3b7"),l("25f0"),l("c24f")),r=l("3efa"),s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:e.title,visible:e.localDialogFormVisible,width:e.width,"custom-class":"custom-dialog","before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.localDialogFormVisible=t}}},[l("el-form",{ref:"ruleForm",staticClass:"form-item",attrs:{model:e.ruleForm,rules:e.rules,inline:!1,"label-width":e.labelWidth}},[l("el-form-item",{attrs:{label:"拒绝理由",prop:"rejectReason"}},[l("el-radio-group",{attrs:{size:"medium"},model:{value:e.ruleForm.rejectReason,callback:function(t){e.$set(e.ruleForm,"rejectReason",t)},expression:"ruleForm.rejectReason"}},[l("el-row",[l("el-col",{attrs:{span:10}},[l("el-radio",{attrs:{border:"",label:"车辆编号有误"}})],1),l("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:10}},[l("el-radio",{attrs:{border:"",label:"车辆信息有误"}})],1)],1),l("el-row",{staticStyle:{"margin-top":"20px"}},[l("el-col",{attrs:{span:10}},[l("el-radio",{attrs:{border:"",label:"车辆不准删除"}})],1),l("el-col",{staticStyle:{"margin-left":"30px"},attrs:{span:10}},[l("el-radio",{attrs:{border:"",label:"机油样本信息有误"}})],1)],1)],1)],1),l("el-form-item",{attrs:{label:"详细说明",prop:"detailReason"}},[l("el-input",{attrs:{type:"textarea",maxlength:"30","show-word-limit":"",placeholder:"请输入内容"},model:{value:e.ruleForm.detailReason,callback:function(t){e.$set(e.ruleForm,"detailReason",t)},expression:"ruleForm.detailReason"}})],1),l("el-row",{attrs:{type:"flex",justify:"center"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")]),l("el-button",{staticStyle:{"margin-left":"30px"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("取消")])],1)],1)],1)},n=[],c={name:"RejectDialog",props:{title:{type:String,required:!0},dialogFormVisible:{type:Boolean,required:!0},ruleForm:{type:Object,required:!0},rules:{type:Object,required:!0},width:{type:String,default:"30%"},labelWidth:{type:String,default:"100px"}},data:function(){return{localDialogFormVisible:this.dialogFormVisible}},watch:{dialogFormVisible:function(e){this.localDialogFormVisible=e},localDialogFormVisible:function(e){this.$emit("update:dialogFormVisible",e)}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("确认拒绝该申请?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("dialogForm:",t.ruleForm),t.$emit("submits",t.ruleForm)})).catch((function(){t.$message({type:"info",message:"已取消"})}))}))},resetForm:function(e){this.localDialogFormVisible=!1,this.$refs.ruleForm.resetFields(),this.$emit("reset")},handleBeforeClose:function(e){this.resetForm(),e()}}},d=c,u=(l("0df1"),l("2877")),m=Object(u["a"])(d,s,n,!1,null,"3b8eab94",null),p=m.exports,b=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:e.title,visible:e.localDialogFormVisible,width:e.width,"custom-class":"custom-dialog","before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.localDialogFormVisible=t}}},[l("el-form",{ref:"ruleForm",staticClass:"form-item",attrs:{model:e.ruleForm,inline:!1,"label-width":e.labelWidth}},[l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"车辆编号",prop:"deviceNo"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.deviceNo,callback:function(t){e.$set(e.ruleForm,"deviceNo",t)},expression:"ruleForm.deviceNo"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"车辆型号",prop:"deviceType"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.deviceType,callback:function(t){e.$set(e.ruleForm,"deviceType",t)},expression:"ruleForm.deviceType"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油更换次数",prop:"changeCount"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.changeCount,callback:function(t){e.$set(e.ruleForm,"changeCount",e._n(t))},expression:"ruleForm.changeCount"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油更换日期",prop:"lastChangeDatetime"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"机油更换日期",disabled:e.disabled,"value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.ruleForm.lastChangeDatetime,callback:function(t){e.$set(e.ruleForm,"lastChangeDatetime",t)},expression:"ruleForm.lastChangeDatetime"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"发动机型号",prop:"deviceEngineType"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.deviceEngineType,callback:function(t){e.$set(e.ruleForm,"deviceEngineType",t)},expression:"ruleForm.deviceEngineType"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油型号",prop:"oilType"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilType,callback:function(t){e.$set(e.ruleForm,"oilType",t)},expression:"ruleForm.oilType"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"车辆负责人",prop:"deviceManager"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.deviceManager,callback:function(t){e.$set(e.ruleForm,"deviceManager",t)},expression:"ruleForm.deviceManager"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"联系方式",prop:"deviceManagerPhone"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.deviceManagerPhone,callback:function(t){e.$set(e.ruleForm,"deviceManagerPhone",t)},expression:"ruleForm.deviceManagerPhone"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"车辆所在省份",prop:"deviceLocationProvince"}},[l("el-select",{attrs:{placeholder:"所在省份",disabled:e.disabled},model:{value:e.ruleForm.deviceLocationProvince,callback:function(t){e.$set(e.ruleForm,"deviceLocationProvince",t)},expression:"ruleForm.deviceLocationProvince"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"车辆所在市",prop:"deviceLocationCity"}},[l("el-select",{attrs:{placeholder:"所在市",disabled:e.disabled},model:{value:e.ruleForm.deviceLocationCity,callback:function(t){e.$set(e.ruleForm,"deviceLocationCity",t)},expression:"ruleForm.deviceLocationCity"}})],1)],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"车辆所在地址",prop:"deviceLocation"}},[l("el-input",{attrs:{type:"textarea",disabled:e.disabled},model:{value:e.ruleForm.deviceLocation,callback:function(t){e.$set(e.ruleForm,"deviceLocation",t)},expression:"ruleForm.deviceLocation"}})],1)],1)],1)],1)},f=[],g={name:"ViewVehicleDialog",props:{title:{type:String,required:!0},dialogFormVisible:{type:Boolean,required:!0},ruleForm:{type:Object,required:!0},width:{type:String,default:"45%"},labelWidth:{type:String,default:"100px"},disabled:{type:Boolean,default:!0}},data:function(){return{localDialogFormVisible:this.dialogFormVisible}},watch:{dialogFormVisible:function(e){this.localDialogFormVisible=e},localDialogFormVisible:function(e){this.$emit("update:dialogFormVisible",e)}},methods:{resetForm:function(){this.localDialogFormVisible=!1,this.$refs.ruleForm.resetFields(),this.cities=[],this.$emit("reset")},handleBeforeClose:function(e){this.disabled?this.localDialogFormVisible=!1:(this.resetForm(),e())}}},h=g,F=(l("d846"),Object(u["a"])(h,b,f,!1,null,"1aa030c0",null)),y=F.exports,v=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:e.title,visible:e.localDialogFormVisible,width:e.width,"custom-class":"custom-dialog","before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.localDialogFormVisible=t}}},[l("el-form",{ref:"ruleForm",staticClass:"form-item",attrs:{model:e.ruleForm,inline:!1,"label-width":e.labelWidth}},[l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"车辆编号",prop:"deviceNo"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.deviceNo,callback:function(t){e.$set(e.ruleForm,"deviceNo",t)},expression:"ruleForm.deviceNo"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"发动机型号",prop:"engineType"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.engineType,callback:function(t){e.$set(e.ruleForm,"engineType",t)},expression:"ruleForm.engineType"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油周期",prop:"oilCycle"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilCycle,callback:function(t){e.$set(e.ruleForm,"oilCycle",e._n(t))},expression:"ruleForm.oilCycle"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油型号",prop:"oilType"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilType,callback:function(t){e.$set(e.ruleForm,"oilType",t)},expression:"ruleForm.oilType"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油更换时间",prop:"oilChangeDate"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"机油更换日期",disabled:e.disabled,"value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.ruleForm.oilChangeDate,callback:function(t){e.$set(e.ruleForm,"oilChangeDate",t)},expression:"ruleForm.oilChangeDate"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"样本采样日期",prop:"oilSampleDate"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"样本采样日期",disabled:e.disabled,"value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.ruleForm.oilSampleDate,callback:function(t){e.$set(e.ruleForm,"oilSampleDate",t)},expression:"ruleForm.oilSampleDate"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油酸值",prop:"oilTan"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilTan,callback:function(t){e.$set(e.ruleForm,"oilTan",t)},expression:"ruleForm.oilTan"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油碱值",prop:"oilTbn"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilTbn,callback:function(t){e.$set(e.ruleForm,"oilTbn",t)},expression:"ruleForm.oilTbn"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油水分",prop:"oilWater"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilWater,callback:function(t){e.$set(e.ruleForm,"oilWater",t)},expression:"ruleForm.oilWater"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油粘度",prop:"oilViscosity"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilViscosity,callback:function(t){e.$set(e.ruleForm,"oilViscosity",t)},expression:"ruleForm.oilViscosity"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油铁含量",prop:"oilFe"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilFe,callback:function(t){e.$set(e.ruleForm,"oilFe",t)},expression:"ruleForm.oilFe"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油铜含量",prop:"oilCu"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilCu,callback:function(t){e.$set(e.ruleForm,"oilCu",t)},expression:"ruleForm.oilCu"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油铝含量",prop:"oilAl"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilAl,callback:function(t){e.$set(e.ruleForm,"oilAl",t)},expression:"ruleForm.oilAl"}})],1)],1),l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油硅含量",prop:"oilSi"}},[l("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.oilSi,callback:function(t){e.$set(e.ruleForm,"oilSi",t)},expression:"ruleForm.oilSi"}})],1)],1)],1),l("el-row",[l("el-col",{staticStyle:{"margin-left":"20px"},attrs:{span:11}},[l("el-form-item",{attrs:{label:"机油周期终点",prop:"isEnd"}},[l("el-switch",{attrs:{disabled:e.disabled,"active-value":"1","inactive-value":"0"},model:{value:e.ruleForm.isEnd,callback:function(t){e.$set(e.ruleForm,"isEnd",t)},expression:"ruleForm.isEnd"}})],1)],1)],1)],1)],1)},V=[],w={name:"ViewSampleDialog",props:{title:{type:String,required:!0},dialogFormVisible:{type:Boolean,required:!0},ruleForm:{type:Object,required:!0},width:{type:String,default:"45%"},labelWidth:{type:String,default:"100px"},disabled:{type:Boolean,default:!0}},data:function(){return{localDialogFormVisible:this.dialogFormVisible}},watch:{dialogFormVisible:function(e){this.localDialogFormVisible=e},localDialogFormVisible:function(e){this.$emit("update:dialogFormVisible",e)}},methods:{resetForm:function(e){this.localDialogFormVisible=!1,this.$refs.ruleForm.resetFields(),this.cities=[],this.$emit("reset")},handleBeforeClose:function(e){this.disabled?this.localDialogFormVisible=!1:(this.resetForm(),e())}}},x=w,S=(l("0c1d"),Object(u["a"])(x,v,V,!1,null,"08fdf568",null)),T=S.exports,D=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{attrs:{title:e.title,visible:e.localDialogFormVisible,width:e.width,"custom-class":"custom-dialog","before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.localDialogFormVisible=t}}},[l("el-table",{ref:"multipleTable",attrs:{"element-loading-text":"Loading",data:e.ruleForm,border:"",fit:"",stripe:"","highlight-current-row":"",height:"300"}},[l("el-table-column",{attrs:{align:"center",label:"车辆编号",prop:"deviceNo",width:"160"}}),l("el-table-column",{attrs:{align:"center",label:"车辆名称",prop:"deviceName",width:"160"}}),l("el-table-column",{attrs:{align:"center",label:"车辆所在地址",prop:"deviceLocation"}}),l("el-table-column",{attrs:{align:"center",prop:"lastChangeDatetime",label:"机油更换时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("i",{staticClass:"el-icon-time"}),l("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.lastChangeDatetime.toLocaleString().replace(/T/g," ").substr(0,16)))])]}}])})],1)],1)},C=[],L={name:"ViewDeleteVehicleDialog",props:{title:{type:String,required:!0},dialogFormVisible:{type:Boolean,required:!0},ruleForm:{type:Array,required:!0},width:{type:String,default:"50%"},labelWidth:{type:String,default:"100px"},disabled:{type:Boolean,default:!0}},data:function(){return{localDialogFormVisible:this.dialogFormVisible}},watch:{dialogFormVisible:function(e){this.localDialogFormVisible=e},localDialogFormVisible:function(e){this.$emit("update:dialogFormVisible",e)}},methods:{resetForm:function(e){this.localDialogFormVisible=!1,this.$refs.ruleForm.resetFields(),this.cities=[],this.$emit("reset")},handleBeforeClose:function(e){this.disabled?this.localDialogFormVisible=!1:(this.resetForm(),e())}}},$=L,k=(l("8d03"),Object(u["a"])($,D,C,!1,null,"169a9c46",null)),j=k.exports,_=l("850b"),B={components:{RejectDialog:p,ViewVehicleDialog:y,ViewSampleDialog:T,ViewDeleteVehicleDialog:j},data:function(){return{listLoading:!1,activeName:"todo",dialogVisible:!1,dialogVehicleVisible:!1,dialogDeleteVehicleVisible:!1,dialogAddOilVisible:!1,isShow:!1,options:[{value:0,label:"新增车辆"},{value:1,label:"修改车辆"},{value:2,label:"删除车辆"},{value:3,label:"新增机油样本"}],form:{info:"",company:"",submitType:"",todoStatus:0,page:1,pageSize:5},total:50,submitCount:0,companies:[],tableData:[],rejectedForm:{rejectUsernameList:[],rejectIdList:[],rejectReason:"",detailReason:""},rules:{rejectReason:{required:!0,message:"请选择拒绝理由",trigger:"change"}},dialogTitle:"",vehicleForm:{deviceNo:"",deviceLocation:"",lastChangeDatetime:"",deviceEngineType:"",oilType:"",deviceManager:"",deviceManagerPhone:"",changeCount:"",deviceLocationProvince:"",deviceLocationCity:"",deviceType:""},oilForm:{deviceNo:"1111",oilCycle:"",oilSampleDate:"",oilChangeDate:"",engineType:"",isEnd:"",oilType:"",oilTan:"",oilTbn:"",oilWater:"",oilViscosity:"",oilFe:"",oilCu:"",oilAl:"",oilSi:""},vehicleDeleteForm:[],multipleTable:[],ids:[],usernameList:[],applyList:[]}},created:function(){this.companyLoad(),this.submitCountLoad(),this.pageLoad(this.form)},methods:{typeText:function(e){var t={0:"新增车辆",1:"修改车辆",2:"删除车辆",3:"新增机油样本"};return t[e]||""},statusType:function(e){var t={0:"warning",1:"success",2:"danger"};return t[e]||"info"},statusText:function(e){var t={0:"待办理",1:"已通过",2:"已拒绝"};return t[e]||e},handleClick:function(e,t){"todo"===e.name?(this.form.todoStatus=0,this.isShow=!1):(this.form.todoStatus=1,this.isShow=!0),this.pageLoad(this.form),this.submitCountLoad(),console.log(e.name)},handleSelectionChange:function(e){var t=this;this.multipleSelection=e,this.ids=this.multipleSelection.map((function(e){return e.id})),this.usernameList=this.multipleSelection.map((function(e){return e.username})),this.applyList=this.multipleSelection.map((function(e){return t.typeText(e.submitType)+":"+e.operation})),console.log(this.multipleSelection.map((function(e){return t.typeText(e.submitType)+e.operation})))},viewApply:function(e,t){var l=this;switch(this.dialogTitle=this.typeText(t),console.log("id",e,"type",this.dialogTitle),t){case 0:console.log("type",this.dialogTitle),Object(r["h"])(e).then((function(e){l.vehicleForm=e.data,l.dialogVehicleVisible=!0}));break;case 1:Object(r["h"])(e).then((function(e){l.vehicleForm=e.data,l.dialogVehicleVisible=!0}));break;case 2:Object(r["f"])(e).then((function(e){l.vehicleDeleteForm=e.data,l.dialogDeleteVehicleVisible=!0}));break;case 3:Object(r["g"])(e).then((function(e){l.oilForm=e.data,l.dialogAddOilVisible=!0}));break;default:break}},handleAgree:function(e,t,l,i){var o=this,a=[];a.push(t),this.$confirm("此操作将批量通过申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(a).then((function(t){o.$message({type:"success",message:"审批成功!"}),o.submitCountLoad(),o.pageLoad(o.form),_["b"].send(e+"-"+o.typeText(l)+":"+i)}))})).catch((function(){o.$message({type:"info",message:"已取消审批"})}))},handleReject:function(e,t){this.rejectedForm.rejectUsernameList.push(e),this.rejectedForm.rejectIdList.push(t),console.log("idList",this.rejectedForm.rejectIdList),this.dialogVisible=!0},handleBatchAgree:function(){var e=this;0!==this.ids.length&&this.$confirm("此操作将批量通过申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("batch",e.usernameList.toString()+","+e.ids.toString()),Object(r["a"])(e.ids).then((function(t){e.$message({type:"success",message:"审批成功!"}),e.submitCountLoad(),e.pageLoad(e.form)}));for(var t=0;t<e.usernameList.length;t++)_["b"].send(e.usernameList[t]+","+e.applyList[t])})).catch((function(){e.$message({type:"info",message:"已取消审批"})}))},handleBatchReject:function(){0!==this.ids.length&&(this.rejectedForm.rejectUsernameList=this.usernameList,this.rejectedForm.rejectIdList=this.ids,this.dialogVisible=!0)},submitReject:function(e){var t=this;console.log("Form submitted with:",e),Object(r["d"])(e).then((function(l){console.log("submit:",l),t.$message({type:"success",message:"拒绝成功!"}),t.submitCountLoad(),t.pageLoad(t.form),t.dialogVisible=!1;for(var i=0;i<t.usernameList.length;i++)_["b"].send(t.usernameList[i]+","+t.applyList[i]+","+e.rejectReason+":"+e.detailReason);t.$refs.rejectedDialog.resetForm(e)})).catch((function(){t.$message({type:"error",message:"拒绝失败！"}),t.$refs.rejectedDialog.resetForm(e),t.dialogVisible=!1}))},handleDeletes:function(){var e=this;0!==this.ids.length&&this.$confirm("此操作将批量删除申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])(e.ids).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.submitCountLoad(),e.companyLoad(),e.pageLoad(e.form)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},onSubmit:function(){console.log("submit!"),this.pageLoad(this.form)},resetForm:function(e){this.form.info="",this.form.company="",this.form.submitType=""},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.form.pageSize=e,this.pageLoad(this.form)},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.form.page=e,this.pageLoad(this.form)},handleReset:function(){console.log("Form reset"),this.rejectedForm.rejectIdList=[],this.rejectedForm.rejectUsernameList=[]},pageLoad:function(e){var t=this;this.listLoading=!0,Object(r["c"])(e).then((function(e){console.log("pageQuery:",e),t.total=e.data.total,t.tableData=e.data.records,t.listLoading=!1}))},companyLoad:function(){var e=this;Object(a["b"])().then((function(t){console.log("company:",t),e.companies=t.data}))},submitCountLoad:function(){var e=this;Object(r["e"])().then((function(t){console.log("count",t.data),e.submitCount=t.data}))}}},O=B,R=(l("10bd"),Object(u["a"])(O,i,o,!1,null,null,null));t["default"]=R.exports},e492:function(e,t,l){},fa3f:function(e,t,l){}}]);